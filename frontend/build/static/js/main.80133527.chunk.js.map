{"version":3,"sources":["images/Vector3.svg","components/NavBar/NavBar.js","components/Header/Header.js","images/Delite.svg","context/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/ImagePopup/ImagePopup.js","utils/utils.js","utils/api.js","components/EditForm/EditForm.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarForm/EditAvatarForm.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddForm/AddForm.js","components/AddPlacePopup/AddPlacePopup.js","components/SignForm/SignForm.js","components/Login/Login.js","components/Register/Register.js","components/ProtectedRoute/ProtectedRoute.js","components/PopupWithTooltip/PopupWithTooltip.js","components/InfoTooltip/InfoTooltop.js","images/ok.svg","components/ShowOk/ShowOk.js","images/err.svg","components/ShowErr/ShowErr.js","auth/auth.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["NavBar","props","history","useHistory","className","userData","email","onClick","onSignin","localStorage","removeItem","push","Header","src","logo","alt","loggedIn","to","CurrentUserContext","React","createContext","Card","data","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwner","owner","_id","isLiked","likes","some","el","delButton","link","name","aria-label","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","elem","Footer","ImagePopup","isOpen","type","isClose","card","handleOriginalResponse","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","formData","method","body","JSON","stringify","cardId","url","EditForm","required","minLength","maxLength","placeholder","id","value","onChange","onChangeName","description","onChangeDescription","PopupWithForm","onClose","noValidate","onSubmit","title","children","ria-label","EditProfilePopup","useState","setName","setDescription","useEffect","event","target","preventDefault","onUpdateUser","EditAvatarForm","defaultValue","ref","inputRef","EditAvatarPopup","useRef","handleInputRef","current","onUpdateAvatar","AddForm","inputCardName","onInputCardName","inputLink","onInputLink","AddPlacePopup","inputCardNameRef","inputLinkRef","handleInputCardName","handleInputLink","SignForm","handleChangeEmail","password","handleChangePassword","buttonName","Login","setEmail","setPassword","e","onAuthorize","Register","onRegister","ProtectedRoute","Component","component","PopupWithTooltip","InfoTooltip","ShowOk","iconOk","iconErr","BASE_URL","checkResponse","response","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserData","isShowTooltipOk","setIsShowTooltipOk","isShowTooltipErr","setIsShowTooltipErr","closeAllPopups","evt","getInitialCards","catch","err","console","log","getProfileInfo","result","jwt","getItem","token","statusCode","Error","checkToken","Provider","path","auth","setItem","exact","removeLike","newCards","item","setLike","deleteCard","newCard","filter","createNewCard","finally","updateAvatar","dispatchProfileInfo","ShowErr","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.80133527.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector3.c2821b38.svg\";","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction NavBar(props) {\r\n  const history = useHistory();\r\n\r\n  function handleClick() {\r\n    props.onSignin()\r\n    localStorage.removeItem(\"jwt\");\r\n    history.push(\"/signin\");\r\n  }\r\n  return(\r\n    <div className=\"navbar__container\">\r\n    {props.userData.email}\r\n    <button className=\"navbar__button\" onClick={handleClick}>Выйти</button>\r\n    </div>\r\n  )\r\n  \r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport logo from \"../../images/Vector3.svg\";\r\nimport NavBar from \"../NavBar/NavBar\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\r\n      {props.loggedIn ? (\r\n        <NavBar userData={props.userData} onSignin={props.onSignin} />\r\n      ) : (\r\n        <NavLink className=\"navbar__register\" to=\"/signup\">\r\n          Регистрация\r\n        </NavLink>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/Delite.e3c42771.svg\";","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport delButton from \"../../images/Delite.svg\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\r\n\r\nfunction Card({ data, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n  function handleOnClick() {\r\n    onCardClick({ name: data.name, link: data.link });\r\n  }\r\n  function handleLikeClick(){\r\n    onCardLike(data)\r\n  }\r\n  function handleDeleteClick(){\r\n    onCardDelete(data)\r\n  }\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwner = data.owner._id === currentUser._id;\r\n  const isLiked = data.likes.some((el) => el._id === currentUser._id);\r\n  return (\r\n    <div className=\"element\">\r\n      <img\r\n        src={delButton}\r\n        alt=\"Иконка\"\r\n        className={`element__del-button ${isOwner ? \"element__del-button_active\" : \"\"}`}\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <img\r\n        src={data.link}\r\n        alt=\"Картинка\"\r\n        className=\"element__image\"\r\n        onClick={handleOnClick}\r\n      />\r\n      <div className=\"element__content\">\r\n        <h2 className=\"element__title\">{data.name}</h2>\r\n        <div className=\"grope-container\">\r\n          <button\r\n            className={`grope-button ${isLiked ? \"grope-button_active\" : \"\"}`}\r\n            aria-label=\"Кнопка отметки\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <span className=\"grope-counter\">{data.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"../Card/Card\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__avatar-container\">\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар\"\r\n              className=\"profile__avatar\"\r\n            />\r\n            <div\r\n              className=\"profile__overlay\"\r\n              onClick={props.onEditAvatar}\r\n            ></div>\r\n          </div>\r\n          <div className=\"profile__personal-data\">\r\n            <div className=\"profile__edit\">\r\n              <p className=\"profile__name\">{currentUser.name}</p>\r\n              <button\r\n                className=\"edit-button\"\r\n                aria-label=\"Кнопка редактирования\"\r\n                onClick={props.onEditProfile}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__activity\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"add-button\"\r\n          aria-label=\"Кнопка добавления\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n      {props.cards.map((elem) => {\r\n          return (\r\n            <Card\r\n              key={elem._id}\r\n              data={elem}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_activity-image ${\r\n        props.data.isOpen ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container popup__container_activity-image\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__exit-button popup__exit-button_activity-image\"\r\n          onClick={props.isClose}\r\n        ></button>\r\n        <img\r\n          src={props.data.card.link}\r\n          alt=\"Картинка\"\r\n          className=\"popup__image\"\r\n        />\r\n        <h2 className=\"popup__header popup__header_activity-image\">\r\n          {props.data.card.name}\r\n        </h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","export function handleOriginalResponse(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n","import {handleOriginalResponse} from './utils';\r\nclass Api{\r\n    constructor(options){\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n    getInitialCards(){\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(handleOriginalResponse)\r\n        .then((res) => res)\r\n    }\r\n    getProfileInfo(){\r\n        return fetch(`${this._baseUrl}/users/me`,{\r\n            headers: this._headers\r\n        })\r\n        .then(handleOriginalResponse)\r\n        .then((res) => res)\r\n    }\r\n    dispatchProfileInfo(formData){\r\n        return fetch(`${this._baseUrl}/users/me`,{\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(formData)\r\n        })\r\n        .then(handleOriginalResponse)\r\n        .then((res) => res)\r\n    }\r\n    createNewCard(formData){\r\n      return fetch(`${this._baseUrl}/cards`,{\r\n          method: 'POST',\r\n          headers: this._headers,\r\n          body: JSON.stringify(formData)\r\n      })\r\n      .then(handleOriginalResponse)\r\n      .then((res) => res)\r\n    }\r\n    deleteCard(cardId){\r\n      return fetch(`${this._baseUrl}/cards/${cardId}`,{\r\n        method: 'DELETE',\r\n        headers: this._headers,\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .then((res) => res)\r\n    }\r\n\r\n    setLike(cardId){\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`,{\r\n        method: 'PUT',\r\n        headers: this._headers,\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .then((res) => res)\r\n    }\r\n\r\n    removeLike(cardId){\r\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`,{\r\n        method: 'DELETE',\r\n        headers: this._headers,\r\n      })\r\n      .then(handleOriginalResponse)\r\n      .then((res) => res)\r\n    }\r\n    updateAvatar(url){\r\n      return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n          method:'PATCH',\r\n          headers: this._headers,\r\n          body: JSON.stringify(url)\r\n      })\r\n      .then(handleOriginalResponse)\r\n      .then((res) => res)\r\n  }\r\n}\r\n\r\n\r\nconst  api = new Api({\r\n  baseUrl:\"http://ikmesto.students.nomoredomains.icu\", \r\n      headers: {\r\n          'Content-Type': 'application/json',\r\n      }\r\n});\r\n\r\nexport default api;","import React from \"react\";\r\n\r\nfunction EditForm(props) {\r\n  \r\n  return (\r\n    <>\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Имя\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        id=\"name-input\"\r\n        value={props.name}\r\n        onChange={props.onChangeName}\r\n      />\r\n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\r\n      <input\r\n        name=\"about\"\r\n        type=\"text\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        placeholder=\"О себе\"\r\n        className=\"popup__input popup__input_type_description\"\r\n        id=\"description-input\"\r\n        value={props.description}\r\n        onChange={props.onChangeDescription}\r\n      />\r\n      <span id=\"description-input-error\" className=\"popup__input-error\"></span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditForm;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  \r\n  return (\r\n    <section\r\n      className={`popup popup_${props.name} ${\r\n        props.isOpen ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className={`popup__exit-button popup__exit-button_${props.name}`}\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <form\r\n          className={`popup__form popup__form_${props.name}`}\r\n          name={`form-${props.name}`}\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          <h2 className=\"popup__header\">{props.title}</h2>\r\n          <fieldset className=\"popup__input-container\">\r\n            {props.children}\r\n          </fieldset>\r\n          <button\r\n            type=\"submit\"\r\n            className={`popup__button popup__button_${props.name}`}\r\n            ria-label=\"Кнопка подтверждения\"\r\n          >\r\n            Сохранить\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport EditForm from \"../EditForm/EditForm\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState();\r\n  const [description, setDescription] = React.useState();\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateUser({\r\n        name,\r\n        about: description,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      children={\r\n        <EditForm\r\n          name={name}\r\n          description={description}\r\n          onChangeName={handleChangeName}\r\n          onChangeDescription={handleChangeDescription}\r\n        />\r\n      }\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\n\r\nfunction  EditAvatarForm(props){\r\n    return (\r\n      <>\r\n        <input\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          required\r\n          defaultValue=\"\"\r\n          placeholder=\"Ссылка на автар\"\r\n          className=\"popup__input popup__input_edit-avatar\"\r\n          id=\"url-input\"\r\n          ref={props.inputRef}\r\n          onChange={props.onChange}\r\n        />\r\n        <span id=\"url-input-error\" className=\"popup__input-error\"></span>\r\n      </>\r\n    )\r\n}\r\n\r\n\r\nexport default EditAvatarForm;\r\n","import React from \"react\";\r\nimport EditAvatarForm from \"../EditAvatarForm/EditAvatarForm\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleInputRef() {\r\n    return inputRef.current.value;\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onUpdateAvatar({\r\n        avatar:handleInputRef()\r\n    })\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      children={\r\n        <EditAvatarForm inputRef={inputRef} onChange={handleInputRef} />\r\n      }\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\n\r\nfunction AddForm(props) {\r\n  return (\r\n    <>\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        placeholder=\"Название\"\r\n        className=\"popup__input popup__input_type_card-name\"\r\n        id=\"card-name-input\"\r\n        ref={props.inputCardName}\r\n        onChange={props.onInputCardName}\r\n      />\r\n      <span id=\"card-name-input-error\" className=\"popup__input-error\"></span>\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        required\r\n        placeholder=\"Ссылка на картинку\"\r\n        className=\"popup__input popup__input_type_url\"\r\n        id=\"url-input\"\r\n        ref={props.inputLink}\r\n        onChange={props.onInputLink}\r\n      />\r\n      <span id=\"url-input-error\" className=\"popup__input-error\"></span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport AddForm from \"../AddForm/AddForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const inputCardNameRef = React.useRef();\r\n  const inputLinkRef = React.useRef();\r\n\r\n  function handleInputCardName() {\r\n    return inputCardNameRef.current.value;\r\n  }\r\n  function handleInputLink() {\r\n    return inputLinkRef.current.value;\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    props.onAddPlace({\r\n        name:handleInputCardName(),\r\n        link:handleInputLink()\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      children={\r\n        <AddForm\r\n          inputCardName={inputCardNameRef}\r\n          inputLink={inputLinkRef}\r\n          onInputCardName={handleInputCardName}\r\n          onInputLink={handleInputLink}\r\n        />\r\n      }\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction SignForm(props) {\r\n  return (\r\n    <div className=\"login__container\">\r\n      <h1 className=\"login__header\">{props.title}</h1>\r\n      <form className=\"login__form\">\r\n        <input\r\n          value={props.email}\r\n          onChange={props.handleChangeEmail}\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          className=\"login__input login__input_type-email\"\r\n        ></input>\r\n        <input\r\n          value={props.password}\r\n          onChange={props.handleChangePassword}\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          className=\"login__input login__input_type-password\"\r\n        ></input>\r\n      </form>\r\n      <div className=\"button__container\">\r\n        <button className=\"login__button\" onClick={props.onSubmit}>\r\n          {props.buttonName}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignForm;\r\n","import React, { useState } from \"react\";\r\nimport SignForm from \"../SignForm/SignForm\";\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  function handleChangeEmail(event) {\r\n    setEmail(event.target.value);\r\n  }\r\n  function handleChangePassword(event) {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAuthorize(email, password);\r\n  }\r\n  return (\r\n    <SignForm\r\n      title=\"Вход\"\r\n      buttonName=\"Войти\"\r\n      onSubmit={handleSubmit}\r\n      email={email}\r\n      password={password}\r\n      handleChangeEmail={handleChangeEmail}\r\n      handleChangePassword={handleChangePassword}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport SignForm from \"../SignForm/SignForm\";\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  function handleChangeEmail(event) {\r\n    setEmail(event.target.value);\r\n  }\r\n  function handleChangePassword(event) {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegister(email, password);\r\n  }\r\n  return (\r\n    <>\r\n      <SignForm\r\n        title=\"Регистрация\"\r\n        buttonName=\"Зарегестрироваться\"\r\n        onSubmit={handleSubmit}\r\n        email={email}\r\n        password={password}\r\n        handleChangeEmail={handleChangeEmail}\r\n        handleChangePassword={handleChangePassword}\r\n      />\r\n      <div className=\"login__link-container\">\r\n        <NavLink to=\"/sign-in\" className=\"login__link\">\r\n          Уже зарегистрированы? Войти\r\n        </NavLink>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\"/>\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute; ","import React from \"react\";\r\n\r\nfunction PopupWithTooltip(props) {\r\n  \r\n  return (\r\n    <section\r\n      className={`popup popup_${props.name} ${\r\n        props.isOpen ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className={`popup__exit-button popup__exit-button_${props.name}`}\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <form\r\n          className={`popup__form popup__form_${props.name}`}\r\n          name={`form-${props.name}`}\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n        {props.children}\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithTooltip;\r\n","import React from \"react\";\r\nimport PopupWithTooltip from \"../PopupWithTooltip/PopupWithTooltip\";\r\n\r\nfunction InfoTooltip(props) {\r\n  function handleSubmit() {}\r\n  return (\r\n    <PopupWithTooltip\r\n      name=\"tooltip\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      children={props.children}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default __webpack_public_path__ + \"static/media/ok.a9eb6caf.svg\";","import React from \"react\";\r\nimport iconOk from \"../../images/ok.svg\";\r\n\r\nfunction ShowOk(props) {\r\n  return (\r\n    <div className=\"tooltip__container\">\r\n      <img src={iconOk} alt=\"show-ok\" />\r\n      <p>Вы успешно зарегистрировались!</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShowOk;\r\n","export default __webpack_public_path__ + \"static/media/err.d4ce2a26.svg\";","import React from \"react\";\r\nimport iconErr from \"../../images/err.svg\";\r\n\r\nfunction ShowOk(props) {\r\n  return (\r\n    <div className=\"tooltip__container\">\r\n      <img src={iconErr} alt=\"show-ok\" />\r\n      <p>Что-то пошло не так! Попробуйте ещё раз.</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShowOk;\r\n","export const BASE_URL = \"http://ikmesto.students.nomoredomains.icu\";\r\n\r\nconst checkResponse = (response) =>\r\n  response.ok ? response.json() : Promise.reject(\"Ошибка на сервере\");\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(checkResponse);\r\n} ","import React from \"react\";\r\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\r\nimport Header from \"../Header/Header\";\r\nimport Main from \"../Main/Main\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport ImagePopup from \"../ImagePopup/ImagePopup\";\r\nimport api from \"../../utils/api\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\r\nimport EditProfilePopup from \"../EditProfilePopup/EditProfilePopup\";\r\nimport EditAvatarPopup from \"../EditAvatarPopup/EditAvatarPopup\";\r\nimport AddPlacePopup from \"../AddPlacePopup/AddPlacePopup\";\r\nimport Login from \"../Login/Login\";\r\nimport Register from \"../Register/Register\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport InfoTooltip from \"../InfoTooltip/InfoTooltop\";\r\nimport ShowOk from \"../ShowOk/ShowOk\";\r\nimport ShowErr from \"../ShowErr/ShowErr\";\r\nimport * as auth from \"../../auth/auth\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [selectedCard, setSelectedCard] = React.useState({\r\n    isOpen: false,\r\n    card: {},\r\n  });\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [userData, setUserData] = React.useState(\"\");\r\n  const [isShowTooltipOk, setIsShowTooltipOk] = React.useState(false);\r\n  const [isShowTooltipErr, setIsShowTooltipErr] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getProfileInfo()\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    checkToken();\r\n  }, []);\r\n\r\n  function checkToken() {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if (jwt) {\r\n      auth.getContent(jwt).then((res) => {\r\n        if (res) {\r\n          setUserData(res.data);\r\n          setLoggedIn(true);\r\n          history.push(\"/main\");\r\n        }\r\n        if (res.statusCode === 400) {\r\n          throw new Error(\"Токен не передан или передан не в том формате\");\r\n        }\r\n        if (res.statusCode === 401) {\r\n          throw new Error(\"Переданный токен некорректен \");\r\n        }\r\n      })\r\n      .catch((err)=>{\r\n        console.log(err);\r\n      })\r\n    }\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((el) => el._id === currentUser._id);\r\n    if (isLiked) {\r\n      api\r\n        .removeLike(card._id)\r\n        .then((result) => {\r\n          const newCards = cards.map((item) => {\r\n            return item._id === card._id ? result : item;\r\n          });\r\n          setCards(newCards);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      api\r\n        .setLike(card._id)\r\n        .then((result) => {\r\n          const newCards = cards.map((item) => {\r\n            return item._id === card._id ? result : item;\r\n          });\r\n          setCards(newCards);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then((result) => {\r\n        const newCard = cards.filter((item) => {\r\n          return item._id !== card._id;\r\n        });\r\n        setCards(newCard);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({ isOpen: true, card: card });\r\n  }\r\n\r\n  function closeAllPopups(evt) {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsShowTooltipOk(false);\r\n    setIsShowTooltipErr(false);\r\n    setSelectedCard({ isOpen: false, card: {} });\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .dispatchProfileInfo(data)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .updateAvatar(data)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api\r\n      .createNewCard(data)\r\n      .then((result) => {\r\n        setCards([result, ...cards]);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  function handleSubmitOnRegister(email, password) {\r\n    return auth\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (res.statusCode === 400) {\r\n          throw new Error(\"некорректно заполнено одно из полей \");\r\n        }\r\n        setUserData(res.data);\r\n        setIsShowTooltipOk(true);\r\n        history.push(\"/signin\");\r\n      })\r\n      .catch((err) =>{\r\n        setIsShowTooltipErr(true);\r\n         console.log(err)\r\n      });\r\n  }\r\n\r\n  function handleSubmitOnAuthorize(email, password) {\r\n    return auth.authorize(email, password).then((res) => {\r\n      if (res.token) {\r\n        localStorage.setItem(\"jwt\", res.token);\r\n        setLoggedIn(true);\r\n        history.push(\"/main\");\r\n        return res;\r\n      }\r\n      if (res.statusCode === 400) {\r\n        throw new Error(\"некорректно заполнено одно из полей \");\r\n      }\r\n      if (res.statusCode === 401) {\r\n        throw new Error(\"пользователь с email не найден \");\r\n      }\r\n    })\r\n    .catch((err)=>{\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  function handleOute() {\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header loggedIn={loggedIn} userData={userData} onSignin={handleOute} />\r\n        <Switch>\r\n          <Route path=\"/signin\">\r\n            <Login onAuthorize={handleSubmitOnAuthorize} />\r\n          </Route>\r\n          <Route path=\"/signup\">\r\n            <Register onRegister={handleSubmitOnRegister} />\r\n          </Route>\r\n          <ProtectedRoute\r\n            exact\r\n            path=\"/main\"\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            onCardClick={handleCardClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n          <Route path=\"/\">\r\n            {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/signin\" />}\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <ImagePopup data={selectedCard} isClose={closeAllPopups} />\r\n        <InfoTooltip\r\n          isOpen={isShowTooltipOk}\r\n          onClose={closeAllPopups}\r\n          children={<ShowOk />}\r\n        />\r\n        <InfoTooltip\r\n          isOpen={isShowTooltipErr}\r\n          onClose={closeAllPopups}\r\n          children={<ShowErr />}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './components/App/App';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter> \r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}